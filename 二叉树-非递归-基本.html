<!DOCTYPE html>
<html>
<head>
    <title>二叉树-非递归-基本</title>
</head>
<body>
<script type="text/javascript">
    class Node {
        constructor (key) {
            this.left = null
            this.key = key
            this.right = null
        }
    }

    class BinarySearchTree {
        constructor () {
            this.root = null
        }

        insert (key) {
            let current = this.root
            let newNode = new Node(key)

            if (!this.root) {
                this.root = newNode
                return
            }

            while (current) {
                if (key < current.key) {
                    if (!current.left) {
                        current.left = newNode
                        return
                    }
                    current = current.left
                } else {
                    if (!current.right) {
                        current.right = newNode
                        return
                    }

                    current = current.right
                }
                
            }
        }

        // 中序遍历
        inOrderTraverse (callback) {
            let current = this.root
            let stack = []

            while (current || stack.length) {

                if (current) {
                    stack.push(current)
                    current = current.left
                } else {
                    current = stack.pop()
                    callback(current)
                    current = current.right
                }
            }
        }
    }

    let tree = new BinarySearchTree()

    tree.insert(6)
    tree.insert(1)
    tree.insert(3)
    tree.insert(5)
    tree.insert(0)
    tree.insert(8)
    tree.insert(7)
    tree.insert(9)

    console.log('tree: ', tree)

    tree.inOrderTraverse((node) => console.log(node))
</script>
</body>
</html>